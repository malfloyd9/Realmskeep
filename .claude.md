# Realm's Keep — Claude Code Context

## What This Is

Landing page for Realm's Keep Gaming Gear (Floyd's tabletop RPG Etsy shop). Static HTML/CSS/JS on Netlify. No build step, no npm.

## Who Works Here

- **Floyd (malfloyd9)** — site owner. Uses OpenAI Codex Desktop App. Creates `codex/` prefixed branches.
- **Travis (travisbreaks)** — contributor. Uses Claude Code. Creates `feat/` or `fix/` prefixed branches.

## Workflow

- Always branch from `main`. Use PR-based workflow so Floyd can review.
- Floyd's Codex reads `AGENTS.md` at repo root. Keep it in sync if architecture changes.
- No npm, no build commands. Test by opening `realmskeep-main/realmskeep/index.html` in browser or `python3 -m http.server`.
- Netlify deploys from `main` automatically. PRs get deploy previews.

## File Map

All site files live in `realmskeep-main/realmskeep/`.

| File | What It Does |
|------|-------------|
| `index.html` | Entire page. Inline SVG logo (`#LOGO`). Testimonials hardcoded. |
| `style.css` | CSS custom properties in `:root`. Key: `--beam-opacity: 0` (light beam off on white bg), `--bird-stroke: #0a0a0a`. |
| `brand-ident.js` | GSAP animation IIFE. Assembly → ambient + Eternal Duel → click replay. Expects global `gsap` from CDN. |
| `main.js` | Analytics wiring only (CTAs, scroll, time on page). |
| `analytics.js` | `RealmskeepAnalytics` global. Console-only, ready for provider. |

## Animation Architecture (brand-ident.js)

Single 728-line IIFE. Contains everything: birds, ambient, Eternal Duel window glow, assembly, vaporize+replay. Do NOT split into modules — no bundler.

Key SVG gotcha: `#letter_apostrophy` has a built-in SVG `transform="translate(185.86 288.86) rotate(-89.9)"`. GSAP `rotation` clobbers it. Only animate x/y on that element. On reset, manually `setAttribute("transform", ...)` after `clearProps: "all"`.

## Canonical Source for Animation

The deployed build at `travisBREAKS/research/realmskeep-brand-ident/` (in the CODE monorepo) is the source of truth for animation code. `CODE/realmskeep/src/` is OUTDATED — do not use it.
